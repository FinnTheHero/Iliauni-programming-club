---
import type { CollectionEntry } from "astro:content";

import MainLayout from "./MainLayout.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<MainLayout title={title} description={description}>
  <section class="max-w-3xl mx-auto my-8">
    {
      heroImage && (
        <div class="border border-zinc-800">
          <img src={heroImage} alt={title} />
        </div>
      )
    }
    <div>
      <div class="py-6 border-b border-zinc-800">
        <h1 class="text-center text-4xl font-semibold" transition:name={title}>
          {title}
        </h1>
        <div class="text-sm text-center custom-subtitle">
          <FormattedDate date={pubDate} />
          {
            updatedDate && (
              <>
                <span>&roarr;</span>
                <div class="custom-main inline-block">
                  <FormattedDate date={updatedDate} />
                </div>
              </>
            )
          }
        </div>
      </div>
      <article class="prose prose-invert py-8 mx-auto">
        <slot />
      </article>
    </div>
    <a href="/blog">
      <h3 class="text-xl my-8 custom-link flex flex-column flex-wrap justify-center items-center">
        <svg
          width="6"
          height="10"
          viewBox="0 0 6 10"
          fill="none"
          class="inline-block sm:mr-3 mr-5"
          xmlns="http://www.w3.org/2000/svg"
          transform="rotate(180)"
        >
          <path
          d="M1 9L5 5L1 1"
          stroke="#fab387"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"></path>
        </svg>
        [Go Back]
      </h3>
    </a>
  </section>
</MainLayout>
